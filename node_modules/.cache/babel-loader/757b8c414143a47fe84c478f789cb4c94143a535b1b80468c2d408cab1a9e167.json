{"ast":null,"code":"var _jsxFileName = \"/Users/isaac/Halloween/src/components/AudioManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AudioManager = ({\n  isLetterOpened\n}) => {\n  _s();\n  const voicyAudioRef = useRef(null);\n  const musicAudioRef = useRef(null);\n  const [voicyFiles] = useState(['troll.mp3', 'yer_a_wizard.mp3', 'welcome.mp3', 'mail.mp3', 'gryffindor.mp3']);\n  const [hasPlayedVoicy, setHasPlayedVoicy] = useState(false);\n  const playHedwigsTheme = useCallback(() => {\n    console.log('Attempting to play Hedwig\\'s Theme...');\n    if (musicAudioRef.current) {\n      musicAudioRef.current.src = '/audio/music/Hedwig\\'s Theme.mp3';\n      musicAudioRef.current.loop = true;\n      musicAudioRef.current.onerror = () => {\n        console.warn('Could not load Hedwig\\'s Theme');\n      };\n      musicAudioRef.current.play().catch(error => {\n        console.warn('Background music playback failed:', error);\n      });\n    } else {\n      console.warn('Music audio ref is null');\n    }\n  }, []);\n  const playRandomVoicyClip = useCallback(() => {\n    if (voicyAudioRef.current) {\n      const randomFile = voicyFiles[Math.floor(Math.random() * voicyFiles.length)];\n      voicyAudioRef.current.src = `/audio/voicy/${randomFile}`;\n      voicyAudioRef.current.volume = 0.7;\n      voicyAudioRef.current.onerror = () => {\n        console.warn(`Could not load audio file: ${randomFile}`);\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      };\n      voicyAudioRef.current.play().catch(error => {\n        console.warn('Audio playback failed:', error);\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      });\n    }\n  }, [voicyFiles, playHedwigsTheme]);\n  useEffect(() => {\n    if (isLetterOpened && !hasPlayedVoicy) {\n      playRandomVoicyClip();\n      setHasPlayedVoicy(true);\n    }\n  }, [isLetterOpened, hasPlayedVoicy, playRandomVoicyClip]);\n  const handleVoicyEnded = () => {\n    setTimeout(() => {\n      playHedwigsTheme();\n    }, 500);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: voicyAudioRef,\n      onEnded: handleVoicyEnded,\n      preload: \"metadata\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: musicAudioRef,\n      preload: \"metadata\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AudioManager, \"Qf34ZCmn/BP5UKyTZ4eyzUh2T7o=\");\n_c = AudioManager;\nexport default AudioManager;\nvar _c;\n$RefreshReg$(_c, \"AudioManager\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","AudioManager","isLetterOpened","_s","voicyAudioRef","musicAudioRef","voicyFiles","hasPlayedVoicy","setHasPlayedVoicy","playHedwigsTheme","console","log","current","src","loop","onerror","warn","play","catch","error","playRandomVoicyClip","randomFile","Math","floor","random","length","volume","setTimeout","handleVoicyEnded","children","ref","onEnded","preload","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/isaac/Halloween/src/components/AudioManager.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\n\ninterface AudioManagerProps {\n  isLetterOpened: boolean;\n}\n\nconst AudioManager: React.FC<AudioManagerProps> = ({ isLetterOpened }) => {\n  const voicyAudioRef = useRef<HTMLAudioElement>(null);\n  const musicAudioRef = useRef<HTMLAudioElement>(null);\n  const [voicyFiles] = useState([\n    'troll.mp3',\n    'yer_a_wizard.mp3',\n    'welcome.mp3',\n    'mail.mp3',\n    'gryffindor.mp3',\n  ]);\n  const [hasPlayedVoicy, setHasPlayedVoicy] = useState(false);\n\n  const playHedwigsTheme = useCallback(() => {\n    console.log('Attempting to play Hedwig\\'s Theme...');\n    if (musicAudioRef.current) {\n      musicAudioRef.current.src = '/audio/music/Hedwig\\'s Theme.mp3';\n      musicAudioRef.current.loop = true;\n      \n      musicAudioRef.current.onerror = () => {\n        console.warn('Could not load Hedwig\\'s Theme');\n      };\n      \n      musicAudioRef.current.play().catch((error) => {\n        console.warn('Background music playback failed:', error);\n      });\n    } else {\n      console.warn('Music audio ref is null');\n    }\n  }, []);\n\n  const playRandomVoicyClip = useCallback(() => {\n    if (voicyAudioRef.current) {\n      const randomFile = voicyFiles[Math.floor(Math.random() * voicyFiles.length)];\n      voicyAudioRef.current.src = `/audio/voicy/${randomFile}`;\n      voicyAudioRef.current.volume = 0.7;\n      \n      voicyAudioRef.current.onerror = () => {\n        console.warn(`Could not load audio file: ${randomFile}`);\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      };\n      \n      voicyAudioRef.current.play().catch((error) => {\n        console.warn('Audio playback failed:', error);\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      });\n    }\n  }, [voicyFiles, playHedwigsTheme]);\n\n  useEffect(() => {\n    if (isLetterOpened && !hasPlayedVoicy) {\n      playRandomVoicyClip();\n      setHasPlayedVoicy(true);\n    }\n  }, [isLetterOpened, hasPlayedVoicy, playRandomVoicyClip]);\n\n  const handleVoicyEnded = () => {\n    setTimeout(() => {\n      playHedwigsTheme();\n    }, 500);\n  };\n\n  return (\n    <>\n      <audio\n        ref={voicyAudioRef}\n        onEnded={handleVoicyEnded}\n        preload=\"metadata\"\n      />\n      \n      <audio\n        ref={musicAudioRef}\n        preload=\"metadata\"\n      />\n    </>\n  );\n};\n\nexport default AudioManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}