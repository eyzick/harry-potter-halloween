{"ast":null,"code":"var _jsxFileName = \"/Users/isaac/Halloween/src/components/AudioManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AudioManager = ({\n  isLetterOpened\n}) => {\n  _s();\n  const voicyAudioRef = useRef(null);\n  const musicAudioRef = useRef(null);\n  const [voicyFiles] = useState(['Voicy_Troll! in the dungeon! troll in the dungeon!.mp3']);\n  const [hasPlayedVoicy, setHasPlayedVoicy] = useState(false);\n  const playHedwigsTheme = useCallback(() => {\n    if (musicAudioRef.current) {\n      musicAudioRef.current.src = '/audio/music/Hedwigs Theme.mp3';\n      musicAudioRef.current.volume = 0.3; // Soft background music\n      musicAudioRef.current.loop = true;\n\n      // Handle audio loading errors gracefully\n      musicAudioRef.current.onerror = () => {\n        console.warn('Could not load Hedwig\\'s Theme');\n      };\n      musicAudioRef.current.play().catch(error => {\n        console.warn('Background music playback failed:', error);\n      });\n    }\n  }, []);\n  const playRandomVoicyClip = useCallback(() => {\n    if (voicyAudioRef.current) {\n      // Get a random Voicy file\n      const randomFile = voicyFiles[Math.floor(Math.random() * voicyFiles.length)];\n      voicyAudioRef.current.src = `/audio/voicy/${randomFile}`;\n      voicyAudioRef.current.volume = 0.7;\n\n      // Handle audio loading errors gracefully\n      voicyAudioRef.current.onerror = () => {\n        console.warn(`Could not load audio file: ${randomFile}`);\n        // If Voicy clip fails, go straight to background music\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      };\n      voicyAudioRef.current.play().catch(error => {\n        console.warn('Audio playback failed:', error);\n        // If playback fails, go straight to background music\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      });\n    }\n  }, [voicyFiles, playHedwigsTheme]);\n  useEffect(() => {\n    if (isLetterOpened && !hasPlayedVoicy) {\n      playRandomVoicyClip();\n      setHasPlayedVoicy(true);\n    }\n  }, [isLetterOpened, hasPlayedVoicy, playRandomVoicyClip]);\n  const handleVoicyEnded = () => {\n    console.log('Voicy clip ended, starting Hedwig\\'s Theme...');\n    // After Voicy clip ends, start Hedwig's Theme\n    setTimeout(() => {\n      playHedwigsTheme();\n    }, 500); // Small delay for smooth transition\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: voicyAudioRef,\n      onEnded: handleVoicyEnded,\n      preload: \"metadata\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: musicAudioRef,\n      preload: \"metadata\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AudioManager, \"3XIbmFg7Iek3BRJ1aYG/MVGb+5s=\");\n_c = AudioManager;\nexport default AudioManager;\nvar _c;\n$RefreshReg$(_c, \"AudioManager\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","AudioManager","isLetterOpened","_s","voicyAudioRef","musicAudioRef","voicyFiles","hasPlayedVoicy","setHasPlayedVoicy","playHedwigsTheme","current","src","volume","loop","onerror","console","warn","play","catch","error","playRandomVoicyClip","randomFile","Math","floor","random","length","setTimeout","handleVoicyEnded","log","children","ref","onEnded","preload","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/isaac/Halloween/src/components/AudioManager.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\n\ninterface AudioManagerProps {\n  isLetterOpened: boolean;\n}\n\nconst AudioManager: React.FC<AudioManagerProps> = ({ isLetterOpened }) => {\n  const voicyAudioRef = useRef<HTMLAudioElement>(null);\n  const musicAudioRef = useRef<HTMLAudioElement>(null);\n  const [voicyFiles] = useState([\n    'Voicy_Troll! in the dungeon! troll in the dungeon!.mp3'\n  ]);\n  const [hasPlayedVoicy, setHasPlayedVoicy] = useState(false);\n\n  const playHedwigsTheme = useCallback(() => {\n    if (musicAudioRef.current) {\n      musicAudioRef.current.src = '/audio/music/Hedwigs Theme.mp3';\n      musicAudioRef.current.volume = 0.3; // Soft background music\n      musicAudioRef.current.loop = true;\n      \n      // Handle audio loading errors gracefully\n      musicAudioRef.current.onerror = () => {\n        console.warn('Could not load Hedwig\\'s Theme');\n      };\n      \n      musicAudioRef.current.play().catch((error) => {\n        console.warn('Background music playback failed:', error);\n      });\n    }\n  }, []);\n\n  const playRandomVoicyClip = useCallback(() => {\n    if (voicyAudioRef.current) {\n      // Get a random Voicy file\n      const randomFile = voicyFiles[Math.floor(Math.random() * voicyFiles.length)];\n      voicyAudioRef.current.src = `/audio/voicy/${randomFile}`;\n      voicyAudioRef.current.volume = 0.7;\n      \n      // Handle audio loading errors gracefully\n      voicyAudioRef.current.onerror = () => {\n        console.warn(`Could not load audio file: ${randomFile}`);\n        // If Voicy clip fails, go straight to background music\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      };\n      \n      voicyAudioRef.current.play().catch((error) => {\n        console.warn('Audio playback failed:', error);\n        // If playback fails, go straight to background music\n        setTimeout(() => {\n          playHedwigsTheme();\n        }, 1000);\n      });\n    }\n  }, [voicyFiles, playHedwigsTheme]);\n\n  useEffect(() => {\n    if (isLetterOpened && !hasPlayedVoicy) {\n      playRandomVoicyClip();\n      setHasPlayedVoicy(true);\n    }\n  }, [isLetterOpened, hasPlayedVoicy, playRandomVoicyClip]);\n\n  const handleVoicyEnded = () => {\n    console.log('Voicy clip ended, starting Hedwig\\'s Theme...');\n    // After Voicy clip ends, start Hedwig's Theme\n    setTimeout(() => {\n      playHedwigsTheme();\n    }, 500); // Small delay for smooth transition\n  };\n\n  return (\n    <>\n      {/* Voicy Audio Element */}\n      <audio\n        ref={voicyAudioRef}\n        onEnded={handleVoicyEnded}\n        preload=\"metadata\"\n      />\n      \n      {/* Background Music Audio Element */}\n      <audio\n        ref={musicAudioRef}\n        preload=\"metadata\"\n      />\n    </>\n  );\n};\n\nexport default AudioManager;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAMxE,MAAMC,YAAyC,GAAGA,CAAC;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EACxE,MAAMC,aAAa,GAAGX,MAAM,CAAmB,IAAI,CAAC;EACpD,MAAMY,aAAa,GAAGZ,MAAM,CAAmB,IAAI,CAAC;EACpD,MAAM,CAACa,UAAU,CAAC,GAAGX,QAAQ,CAAC,CAC5B,wDAAwD,CACzD,CAAC;EACF,MAAM,CAACY,cAAc,EAAEC,iBAAiB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAE3D,MAAMc,gBAAgB,GAAGb,WAAW,CAAC,MAAM;IACzC,IAAIS,aAAa,CAACK,OAAO,EAAE;MACzBL,aAAa,CAACK,OAAO,CAACC,GAAG,GAAG,gCAAgC;MAC5DN,aAAa,CAACK,OAAO,CAACE,MAAM,GAAG,GAAG,CAAC,CAAC;MACpCP,aAAa,CAACK,OAAO,CAACG,IAAI,GAAG,IAAI;;MAEjC;MACAR,aAAa,CAACK,OAAO,CAACI,OAAO,GAAG,MAAM;QACpCC,OAAO,CAACC,IAAI,CAAC,gCAAgC,CAAC;MAChD,CAAC;MAEDX,aAAa,CAACK,OAAO,CAACO,IAAI,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;QAC5CJ,OAAO,CAACC,IAAI,CAAC,mCAAmC,EAAEG,KAAK,CAAC;MAC1D,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,mBAAmB,GAAGxB,WAAW,CAAC,MAAM;IAC5C,IAAIQ,aAAa,CAACM,OAAO,EAAE;MACzB;MACA,MAAMW,UAAU,GAAGf,UAAU,CAACgB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGlB,UAAU,CAACmB,MAAM,CAAC,CAAC;MAC5ErB,aAAa,CAACM,OAAO,CAACC,GAAG,GAAG,gBAAgBU,UAAU,EAAE;MACxDjB,aAAa,CAACM,OAAO,CAACE,MAAM,GAAG,GAAG;;MAElC;MACAR,aAAa,CAACM,OAAO,CAACI,OAAO,GAAG,MAAM;QACpCC,OAAO,CAACC,IAAI,CAAC,8BAA8BK,UAAU,EAAE,CAAC;QACxD;QACAK,UAAU,CAAC,MAAM;UACfjB,gBAAgB,CAAC,CAAC;QACpB,CAAC,EAAE,IAAI,CAAC;MACV,CAAC;MAEDL,aAAa,CAACM,OAAO,CAACO,IAAI,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;QAC5CJ,OAAO,CAACC,IAAI,CAAC,wBAAwB,EAAEG,KAAK,CAAC;QAC7C;QACAO,UAAU,CAAC,MAAM;UACfjB,gBAAgB,CAAC,CAAC;QACpB,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACH,UAAU,EAAEG,gBAAgB,CAAC,CAAC;EAElCf,SAAS,CAAC,MAAM;IACd,IAAIQ,cAAc,IAAI,CAACK,cAAc,EAAE;MACrCa,mBAAmB,CAAC,CAAC;MACrBZ,iBAAiB,CAAC,IAAI,CAAC;IACzB;EACF,CAAC,EAAE,CAACN,cAAc,EAAEK,cAAc,EAAEa,mBAAmB,CAAC,CAAC;EAEzD,MAAMO,gBAAgB,GAAGA,CAAA,KAAM;IAC7BZ,OAAO,CAACa,GAAG,CAAC,+CAA+C,CAAC;IAC5D;IACAF,UAAU,CAAC,MAAM;MACfjB,gBAAgB,CAAC,CAAC;IACpB,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EACX,CAAC;EAED,oBACEX,OAAA,CAAAE,SAAA;IAAA6B,QAAA,gBAEE/B,OAAA;MACEgC,GAAG,EAAE1B,aAAc;MACnB2B,OAAO,EAAEJ,gBAAiB;MAC1BK,OAAO,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC,eAGFtC,OAAA;MACEgC,GAAG,EAAEzB,aAAc;MACnB2B,OAAO,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAACjC,EAAA,CAlFIF,YAAyC;AAAAoC,EAAA,GAAzCpC,YAAyC;AAoF/C,eAAeA,YAAY;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}